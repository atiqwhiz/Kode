<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><h1 id="Lab1Springquickstart">Lab 1 &#8211; Spring quickstart</h1><h1 id="Introduction">Introduction</h1><p>Before we begin with, thanks a lot for showing your interest in learning Spring 3.0. Hope you have a wonderful learning experience ahead. Let me very quickly explain you the training methodology first.</p><p>In this 2 days fast track course on Spring, i&#8217;ve tried my best to incorporate as many features as i can. Spring is so vast that it&#8217;s not possible to cover everything in 2 days. This course covers the core concepts and also discusses about integrating it with enterprise services like Hibernate, JTA and others.</p><p>Each day we will have 3-4 theory and lab sessions. After the theory we will have a lab to review all the points that we discussed. Since almost every technology supports annotations by now, so it&#8217;s my responsibility to show you both the ways of configuration wherever possible. </p><p>Also you need to keep the presentation ready since there are continuous references to slide numbers throughout the lab guide. Each eclipse project covers one lab. </p><p>So let&#8217;s begin with our first lab then. All the best! Do let me know if you face any difficulties in picking up the labs.</p><h1 id="IntroductiontoDIandIoC">Introduction to DI and IoC</h1><p>Refer <b>slide no. 21-23</b> for details on DI and IoC.</p><h1 id="Exercise1.Setterinjectionusingxmlconfiguration">Exercise 1. Setter injection using xml configuration</h1><p>In Spring, we write POJOs for everything. That&#8217;s one of the core reasons for it&#8217;s popularity. To begin with you can review <code>FlightRepositoryImpl</code> from the <code>xml</code> package. As you can see we need to inject a <code>DataSource</code> object. Open <code>xml-config-1.xml</code>  file and complete <code>TODO 1</code> by referring to <b>slide no. 26</b>.  Also please edit the <code>db-config.xml</code>  file which contains the <code>DataSource</code> configuration for the target database.</p><p>Next, you need to run a small script which will create the required table and insert some rows in the database. Run the  <code>script.sql</code> file from <code>resources</code> folder in the target database.</p><p>To test whether the DataSource has been injected successfully or not, open <code>FlightRepositoryTest</code> class from the <code>test</code> package. You need to run this as a <em>Junit Test Case</em> in eclipse and see if everything is okay. To understand the test code, please refer to <b>slide no. 43</b>.</p><h1 id="Exercise2.Setterinjectionusingannotations">Exercise 2. Setter injection using annotations</h1><p>Annotations are a replacement for xml style configuration. Although not 100%, but it surely reduces the amount of xml we need to maintain. In this section, we will try to annotate our bean with the necessary dependencies. Open <code>FlightRepositoryImpl</code> from the <code>annotations</code> package. Complete <code>TODO 2</code> by referring to <b>slide no. 27</b> to identify the correct annotation to be used for the setter method.</p><p>Open <code>annotations-config-1.xml</code> file and complete <code>TODO 3</code> by referring to <b>slide no. 27</b>. </p><p>Now to confirm whether annotations are working or not, reuse the same test class, <code>FlightRepositoryTest</code> by just editing the name of the xml file to be loaded and that&#8217;s the power of interfaces in Java as you already know!</p><h1 id="Exercise3.Usingannotationsforbeandefinition">Exercise 3. Using annotations for bean definition</h1><p>As you saw, we need to still add an entry in the xml file for the <em>repository</em> class since we are using annotations for DI only. To automatically register a bean with the container, refer to <b>slide no. 30</b> and complete <code>TODO 4</code> from <code>FlightRepositoryImpl</code> class. When using annotation for registering a bean, the bean id can be provided as a String within the annotation used.</p><p>Open <code>annotations-config-1a.xml</code> file and complete <code>TODO 5</code> by referring to <b>slide no. 30</b>. Run the test class by loading this xml file and see if it works. </p><h1 id="Exercise4.Constructorinjectionusingxmlconfiguration">Exercise 4. Constructor injection using xml configuration</h1><p>Constructor injection is another way of initializing the dependencies. Rather it&#8217;s the easiest way of forcing all the dependencies to get initialized. So let&#8217;s quickly try out one example for testing out the same. Open <code>FlightRepositoryImpl2</code> from the <code>xml</code> package. You will see the same code as before but with a constructor instead of a setter method. In the <code>xml-config-2.xml</code> file, complete <code>TODO 6</code> by referring to <b>slide no. 31</b>.</p><p>Run the test class by loading <code>xml-config-2.xml</code> file and see if everything is working correctly again.</p><h1 id="Exercise5.Constructorinjectionusingannotations">Exercise 5. Constructor injection using annotations</h1><p>Open <code>FlightRepositoryImpl2</code> from the <code>annotations</code> package and complete <code>TODO 7</code> by referring to <b>slide no. 33</b>. There is no change in the xml needed since we have annotated the bean class with <em>@Repository</em> annotation, so there is no need to do any entry in the xml file. Just review the <code>annotations-config-2.xml</code> file once and run the test class by loading this xml file.</p><h1 id="Exercise6.AdditionalwaysofusingAutowiredandResourceannotation">Exercise 6. Additional ways of using @Autowired and @Resource annotation</h1><p>Both these annotations give us the freedom to go beyond constructors and setters, we can even use these annotations to initialize private fields of our bean class directly. Open <code>FlightRepositoryImpl3</code> from the <code>annotations</code> package and complete <code>TODO 8</code> by referring to <b>slide no. 36</b>. Test it as usual. </p><p>Similarly you can test the same code using <em>@Resource</em>  annotation instead of <em>@Autowired</em>  annotation and see if it&#8217;s working once again.</p><h1 id="Exercise7.Autowiringusingxmlconfiguration">Exercise 7. Autowiring using xml configuration</h1><p>Open <code>xml-config-3.xml</code> file and complete <code>TODO 9</code> by referring to <b>slide no. 38</b>. There is no change in the code, but you can still review <code>FlightRepositoryImpl3</code> once. Reuse the same test class by loading this xml file. Try out both the ways of autowiring!</p><h1 id="Conclusion">Conclusion</h1><p>So in this lab we saw how to inject the dependencies in two ways:</p><ul><li>setter injection</li><li>constructor injection</li></ul><p>Also we saw <em>XML</em> as well as <em>annotations</em> approach for DI. Finally we also understood autowiring in Spring. <br/>In the next lab, we will see more examples on <em>Dependency Injection</em>.</p></body></html>